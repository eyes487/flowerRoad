var createAjax=function(){var t=null;try{t=new ActiveXObject("microsoft.XMLHTTP")}catch(e){try{t=new XMLHttpRequest}catch(e){window.alert("你的浏览器不支持！")}}return t},ajax=function(obj){var type=obj.type,url=obj.url,data=obj.data,dataType=obj.dataType,success=obj.success,token=sessionStorage.getItem("token")||"";null==type&&(type="get"),null==dataType&&(dataType="text");var xhr=createAjax();xhr.open(type,url,!0),"deleteCart"!=url&&"addCart"!=url||xhr.setRequestHeader("Authorization",token),"get"!=type&&"GET"!=type||xhr.send(null),"post"!=type&&"POST"!=type||(xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhr.send(data)),xhr.onreadystatechange=function(){4==xhr.readyState&&200==xhr.status&&("text"==dataType||"TEXT"==dataType?null!=success&&success(xhr.responseText):"josn"!=dataType&&"JOSN"!=dataType||null!=success&&success(eval("("+xhr.responseText+")")))}};